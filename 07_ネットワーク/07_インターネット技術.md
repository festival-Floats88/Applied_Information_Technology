# **7. インターネット技術**

## **1. プロキシサーバ**

**プロキシサーバ**とは, 「クライアントから要求を受け, クライアントの代理として他のサーバにアクセスする」サーバであり, WWWにおいて多く用いられる.

> **プロキシ**: インターネットへのアクセスを中継し, Webコンテンツをキャッシュする仕組み
>> **キャッシュ**: 後続のリクエストに使用できるように一時的に応答を保存するコンポーネント

これには, 以下のような利点がある.

- キャッシュサーバとしての利用

    クライアントから要求されたリソースがプロキシサーバ内にキャッシュされていれば, インターネットにはアクセスせずキャッシュされたリソースを返す. これにより, `応答性能を向上`させたり`トラフィックを削除`したりすることができる.

- セキュリティの向上

    インターネットからは「プロキシサーバのみがアクセスしている」ように見えるため, `ネットワーク内部の構成を隠す`ことができる.

## **2. NATとNAPT**

### **1. アドレス変換の種別**

IPv4形式のIPアドレスは既に枯渇しているため, 組織内のホストには利用に制限のない**プライベートIPアドレス**を割り当て, インターネットにアクセスするときのみ**グローバルIPアドレス**に変換する, というアドレス変換技術が使われる.

> ルータを経由する際に, 送信元のアドレスをルータのアドレスに書き換える

グローバルIPアドレスはインターネットとの接点に割り当てればよいので, グローバルIPアドレスを節約することができる. また, 内部のIPアドレスが接点のアドレスで隠されるため, `外部からの不正アクセスを困難にする`効果も期待できる.

アドレス変換技術は, NATとNAPT(IPマスカレード)の2種類がある.NATとNAPTは, 1つのグローバルIPアドレスに複数のプライベートIPアドレスを対応付けることができるかどうかが異なる. これらをまとめてNATと呼ぶこともある.

### **2. NAT**(Network Address Translation)

**NAT**は, インターネットと内部ネットワーク(社内LANなど)の境界に位置する機器(ルータなど)が, `グローバルIPアドレスとプライベートIPアドレスを相互に変換する`技術である.

ルータは, 内部からインターネット側へ中継するIPパケットを受信すると, 送信元IPアドレスをグローバルIPアドレスに変換し, インターネットへ中継する. このとき, 変換内容をアドレス変換テーブルに記録していく.

その後, インターネット側から内部に中継する応答パケットを受信すると, 宛先IPアドレスを基にアドレス変換テーブルを参照し, 変換前のプライベートIPアドレスに変換して内部に中継する.

NATは, グローバルIPアドレスとプライベートIPアドレスを1対1で対応付けるため, 同時にインターネットと通信できるホストの数は, 用意されているグローバルIPアドレスの数を超えることはできない.

### **3. NAPT**(Network Address Port Translation)

**NAPT**は, `IPアドレスとポート番号を組み合わせてアドレス変換を行う`技術であり, **IPマスカレード**ともいう.

ルータは, 内部からインターネット側へ中継するIPパケットを受信すると,「`送信元IPアドレスと送信元ポート番号の組`」に対して, 「ルータ内で一意なポート番号」を生成し, 送信元IPアドレスをグローバルIPアドレスに, 送信元ポート番号を生成したポート番号に変換して中継する.

> 変換内容をアドレス変換テーブルに記録する.

その後, インターネット側から内部に中継する応答パケットを受信すると, 宛先ポート番号を基にアドレス変換テーブルを参照し, 変換前の「送信元IPアドレスと送信元ポート番号の組」を取得する.

そして, 宛先IPアドレスを変換前のプライベートIPアドレスに, 宛先ポート番号を変換前のポート番号に変換して内部に中継する.

NAPTは, グローバルIPアドレスとプライベートIPアドレスを1対多に対応付けるため, 1つのグローバルIPアドレスで同時に複数のホストがインターネットと通信することができる.

## **3. IP電話**

符号化した音声ファイルをIPネットワークで伝送する技術を**VoIP**(Voice over IP)という. VoIPを用いて音声を送受信するシステムが**IP電話**である.

IP電話では, IP電話機や通話用ソフト(ソフトフォン)を搭載したパソコンを音声端末として利用する. IP網上のIP電話機がPSTN上の電話機と相互に通話するためには, シグナリング機能やPSTNとIP網のプロトコル変換機能を持つ装置が必要である.そのような機器を, **VoIPゲートウェイ**という.

> **PSTN**: 公衆電話網

また, ある程度の規模になると, 電話番号とIPアドレスの情報を保持して呼制御を行うサーバ(**SIPサーバ**や**ゲートキーパ**)が必要になる. 特に, 企業の内線網にIPを利用する場合, 内線通話や保留転送といった従来のPBXの機能を持つ**IP-PBX**が用いられることが多くなる.

> **PBX**: 構内交換機, 呼制御サーバとVoIPゲートウェイの機能を持つ

## **4. WSN**(Wireless Sensor Networks)

**WSN**は, 広範囲に張り巡らせた無線機能を持つセンサを利用して, リアルタイムなデータ通信を可能にするネットワークである. (**無線**)**センサネットワーク**とも呼ばれる.

もとは軍事技術から出発したものだが, 現在では屋内のモニタリングから渋滞情報の収集や気象観測に至るまで様々な場面で利用される. ユビキタスコンピューティングに欠かせない技術として期待されている.

> ユビキタスコンピューティング: コンピュータが至る所に存在し, いつどこでも使える状態を表す概念
