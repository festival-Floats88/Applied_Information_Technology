# **2. データリンク層**

## **1. LANのプロトコル**

TCP/IPの代表的なデータリンク層のプロトコルが「LANのプロトコル」である.

LANのプロトコルは, **媒体アクセス制御方式**(Media Access Control: MAC)の規格と伝送に必要な電気的な規格を含んでいる. 媒体アクセス制御方式には, 一般的な優先LANで用いられてきたCSNA/CD, 無線LANで用いられるCSMA/CAなどがある.

## **2. CSMA/CD**(Carrier Sense Multiple Access with Collision Detection)**方式**

**CSMA/CD**は, ノードがフレームの送出に先立って, 伝送路にフレームが流れていないことを確認し, フレームの送出を開始する方式である.

複数ノードがほぼ同時にフレームを送出すると, フレームの**衝突**(collision)が発生する. これを検出したノードはフレームの送出を停止し, 他のノードに衝突を知らせる信号(**ジャム信号**)を送出する. フレームは, 任意の時間待機した後に再送される.

> CSMA/CD方式は, 衝突頻度が増すと再送動作が増えてスループットが低下する
>> **スループット**: 単位時間内に実行できるジョブの量

## **3. CSMA/CA**(Carrier Sense Multiple Access with Collision Avoifance)**方式**

**CSMA/CA**は無線LANで用いられる方式である. 無線LANでは, フレームの衝突は検知できないので, 一定時間回線が空いていることを確認してからフレームを送出するなど, フレームの衝突をできるだけ**回避**(avoidance)するような制御を行う.

受信側のノードは, フレームを正しく受信できた場合に**確認応答**(ACK)を返す. ACKが返ってこないとき, 送信側のノードはフレームを再送出する.

## **4. PPP**(Point-to-Point Protocol)

**PPP**は, 2つのノード間を結んだリンク上で, データを送受信するプロトコルである. パソコンをプロバイダに接続する場合に用いられる.

PPPはリンクの確立時にPAPやCHAPを用いた認証を行う. インターネットへの接続時に認証を義務付けるために, PPPを用いることもある.

> **PAP**, **CHAP**: ともにユーザ名, パスワードで認証を行う認証用プロトコル

## **5. イーサネット**(IEEE802.3)

**イーサネット**(ethernet)は媒体アクセス制御にCSMA/CD方式を採用するLANで, これを基に**IEEE802委員会**が**IEEE802.3**を規格化した. 主なイーサネット規格には次のものがある.

| 規格 | トポロジ | 伝送媒体 | 最大伝送距離 | 最大伝送速度 |
| :-: | :-: | :-: | :-: | :-: |
| 10BASE2 | バス型 | 細芯同軸ケーブル | 185m | 10Mb/s |
| 10BASE5 | バス型 | 標準同軸ケーブル | 500m | 10Mb/s |
| 10BASE-T | スター型 | UTPケーブル | 100m | 10Mb/s |
| 100BASE-TX | スター型 | UTPケーブル | 100m | 100Mb/s |
| 1000BASE-SX | スター型 | 光ファイバ | 550m | 1Gb/s |
| 1000BASE-T | スター型 | UTPケーブル | 100m | 1Gb/s |

## **6. 無線LAN**(IEEE802.11)

**IEEE802.11シリーズ**は, 媒体アクセス制御にCSMA/CA方式を用いた無線LANの規格群である.

| 規格 | 周波数帯域 | 最大伝送速度 |
| :-: | :-: | :-: |
| IEEE802.11 | 2.4GHz帯域 | 2Mb/s |
| IEEE802.11a | 5GHz帯域 | 54Mb/s |
| IEEE802.11b | 2.4GHz帯域 | 11Mb/s |
| IEEE802.11g | 2.4GHz帯域 | 54Mb/s |
| IEEE802.11n | 2.4/5GHz帯域 | 600Mb/s |
| IEEE802.11ac | 5GHz帯域 | 6.9Gb/s |

無線LANは物理的な回線接続が不要である分, 不正アクセスへの備えが必要である. そこで, 正規のMACアドレスをアクセスポイントに事前登録し, それ以外の端末からのアクセスを制限するような仕組みを取っている. この仕組みを**MACアドレスフィルタリング**という.

### **SSID**(Service Set IDentifier)

**SSID**はIEEE802.11におけるネットワーク識別子である. SSIDは最長32octetの文字列で, 無線LANのアクセスポイントに設定する. 利用者はSSIDを指定することで, 接続するアクセスポイントを選択する.

## **7. PLC**(Power Line Communication)

**PLC**は, 電力線を通信回線として利用する技術で, 屋内の電力線を用いて手軽にLANを構築することができる.

屋外の電力線を利用したWANや, 電柱からの引き込みにのみ屋外の電力線を利用することも考えられているが, 漏洩電磁波レベルが大きいことなどから実用には至っていない.
